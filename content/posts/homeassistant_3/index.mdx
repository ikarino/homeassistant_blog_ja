---
title: Home Assistantを使えるようにするまで その4
date: 2020-10-16
description: "Home Assistant 本体のインストール方法について"
tags:
  - Home Assistant
---

以下のステップで Home Assistant を使えるようにしていきます。

1. [必要なものと環境](/home-assistantを使えるようにするまで-その-2)
2. [Raspberry Pi OS のセットアップ(本記事)](/home-assistantを使えるようにするまで-その-3)
3. **[Home Assistant のインストール](/home-assistantを使えるようにするまで-その-4)**
4. [Addon のインストール](/home-assistantを使えるようにするまで-その-5)

## Home　Assistant のインストール方法

2020/10/17 現在、公式でサポートされている Home Assistant のインストール方法は 4 つあります。

[Installation Methods & Community Guides Wiki](https://www.home-assistant.io/blog/2020/05/26/installation-methods-and-community-guides-wiki/)

1. **Home Assistant**
2. **Home Assistant Container**
3. **Home Assistant Supervised**
4. **Home Assistant Core**

3.の方法で進めていきますが、これは Raspberry Pi OS を使いつつ、Home Assistant 全部入りをつかえるインストール方法です。

1.〜4.の違いの説明は少し込み入っています。  
読み飛ばしてしまって全く問題ありません。

<img alt="ha_architecture" src="https://developers.home-assistant.io/img/en/architecture/ha_architecture_2020.png" width="100%" />

上図は1.のHome Assistantまたは3.のHome Assistant Supervisedの例です。  
OS(Operating System)の部分に`Home Assistant OS`が使われるか、今回のように`Raspberry Pi OS`が使われるかの違いです。

Home Assistant Coreの実体はPythonパッケージです。これを生のPythonで使うパターンを4.のHome Assistant Coreと呼んでいます。 一方、上図のようにDocker等に乗せてあるものを利用する方法を2.のHome Assistant Containerと呼んでいます。

アドオンはHome Assistant Core の外にあるため、2.と4.ではアドオンがインストールできないことが分かると思います。

## Home Assistant Supervisedのインストール

### 必要なパッケージのインストール
インストールします。
```
sudo apt-get -y install network-manager apparmor apparmor-utils apparmor-profiles jq
```

### Docker のインストール
rootユーザになってからDockerをインストールします。
```
sudo su
curl -sSL https://get.docker.com | sh
```

### Home Assistant Supervisedのインストール
こちらでインストールします。
詳細は[こちら](https://github.com/home-assistant/supervised-installer)を参照してください。
```bash
sudo su
curl -Lo installer.sh https://raw.githubusercontent.com/home-assistant/supervised-installer/master/installer.sh
bash installer.sh --machine raspberrypi4
```

以上で完了です。  
勝手に起動します。

